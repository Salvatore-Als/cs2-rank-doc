<table-placeholder *ngIf="!configs"></table-placeholder>

<ng-container *ngIf="configs">
  <div *ngFor="let config of configs" class="flex flex-col gap-4">
    <div class="flex space-x-1">
      <badge color="gray" class="w-fit">{{ config.file_path }}</badge>
      <edit-button [path]="path"></edit-button>
    </div>

    <p class="text-gray-900 rounded-lg dark:text-white">{{ config.description }}</p>

    <table class="rounded-lg overflow-hidden w-full text-sm text-left rtl:text-right text-gray-800 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th class="px-6 py-3">
            Variable
          </th>
          <th class="px-6 py-3">

          </th>
          <th class="px-6 py-3">
            Default value
          </th>
          <th class="px-6 py-3">
            Description
          </th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let variable of config.variables | keyvalue" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
          <td class="px-6 py-4">
            {{ variable.key }}
          </td>
          <td class="px-6 py-4">
            <div class="flex gap-2">
              <badge color="red" *ngIf="variable.value.required">required</badge>
              <badge color="blue">{{ variable.value.type }}</badge>
            </div>
          </td>
          <td class=" px-6 py-4">
            {{ variable.value.default_value }}
          </td>
          <td class="px-6 py-4">
            {{ variable.value.description }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-container>